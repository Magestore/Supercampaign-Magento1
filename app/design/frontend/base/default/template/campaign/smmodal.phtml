<?php
    $popup = $this->getAllDataPopupActive();
    //$popup->getData();
    Zend_debug::dump($popup->getData());
    $segmentpopup = Mage::helper('campaign')->checkSegmentpopup();
    $cookiepopup = Mage::helper('campaign')->checkCookiepopup();
    $stylepopup = Mage::helper('campaign')->checkStylepopup();
?>

<div class="static">
    <div id="sc-popup0<?php echo $popup->getData('popup_id') ?>" class="modal fade sc-popup01" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <a class="dialogClose style1 overlay2" data-dismiss="modal" data-target="#sc-popup01"></a>
                <?php echo $popup->getData('popup_content'); ?>
            </div>
        </div>
    </div>
</div>
<?php

    $style_plus ="";
    $border_color = $popup->getData('border_color');
    $border_color = "border-color:#".$popup->getData('border_color');
    $border_size = "border-size:".$popup->getData('border_size_in_px')."px";
    $padding_size = "padding:".$popup->getData('padding')."px";
    $styleshadow = $popup->getData('popup_shadow');
    $height = "";
    if($popup->getData('height') !=  "0"){
        $height = "height:".$popup->getData('height');
    }
    $width = "";
    if($popup->getData('width') !=  "0"){
        $width = "width:".$popup->getData('width');
    }
    $maxwidth = "";
    if($popup->getData('max_width') !=  ""){
        $maxwidth = "max-width:".$popup->getData('max_width');
    }
    $boxshowdow = "";
    if($styleshadow == "0")
    {
        $boxshowdow = "-webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, .5);box-shadow: 0 5px 15px rgba(0, 0, 0, .5);";
    }else{
        $boxshowdow = "-webkit-box-shadow: 0 0 0;box-shadow: 0 0 0;";
    }

    $close_path = $popup->getData('close_icon_style');
    $close_icon = "";
    switch($close_path) {
        case 0:
            $close_icon = ".dialogClose{background:url(".$this->getSkinUrl('images/campaign/popup/close_white.png').") no-repeat 5px 5px}";
            break;
        case 1:
            $close_icon = ".dialogClose{background:url(".$this->getSkinUrl('images/campaign/popup/close_promotion.png').") no-repeat 5px -20px}";
            break;
        case 2:
            $close_icon = ".dialogClose{background:none transparent}";
            break;
    }

    $corner_style = $popup->getData('corner_style');
        switch($corner_style) {
            case 0:
            $style_plus = "border-radius:".$popup->getData('border_style')."px";
            break;
            case 1:
            $style_plus = "border-radius:0px";
            break;
            case 2:
            $style_plus = "border-radius:50%";
            break;
        }
    $stylecontent = "#sc-popup0".$popup->getData('popup_id')."  .modal-content{".$width." ".$height.";background-color:#".$popup->getData('popup_background').";".$style_plus.";".$border_color.";".$border_size.";".$padding_size.";".$boxshowdow.";".$maxwidth.";}";
    $styleoverbg = "#sc-popup0".$popup->getData('popup_id')."  .modal-backdrop{background-color:#".$popup->getData('overlay_background')."}";
    $customcss = $popup->getData('custom_css');

?>
<script type="text/javascript">
    var $j = jQuery.noConflict();


    switch(<?php echo $popup->getData('appear_effect')?>) {
        case 0:
            $j('.modal').prop('class', 'modal fade').addClass('top');
            break;
        case 1:
            $j('.modal').prop('class', 'modal fade').addClass('left');
            break;
        case 2:
            $j('.modal').prop('class', 'modal fade').addClass('right');
            break;
        case 3:
            $j('.modal').prop('class', 'modal fade').addClass('bottom');
            break;
        case 4:
            $j('.modal').prop('class', 'modal fade').addClass('top-left');
            break;
        case 5:
            $j('.modal').prop('class', 'modal fade').addClass('top-right');
            break;
        case 6:
            $j('.modal').prop('class', 'modal fade').addClass('bottom-left');
            break;
        case 7:
            $j('.modal').prop('class', 'modal fade').addClass('bottom-right');
            break;
        default:
            $j('.modal').prop('class', 'modal fade').addClass('top');
    }
    $j(window).bind("load", function() {
        var string = "<style type=\"text/css\"><?php echo $stylecontent." ".$styleoverbg." ".$close_icon." ".$customcss?></style>"
        $j('head').append(string);
        $j('.modal').modal('show');
    });
</script>


